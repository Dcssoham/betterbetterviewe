<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adult Video Search</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #121212;
    color: #fff;
}

header {
    padding: 20px;
    text-align: center;
    background: #000;
}

input, button {
    padding: 12px;
    font-size: 16px;
}

button {
    background: #ff9000;
    border: none;
    color: #fff;
    cursor: pointer;
}

button:hover {
    background: #e67e00;
}

.results {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
    padding: 20px;
}

.video-card {
    background: #1f1f1f;
    cursor: pointer;
}

.video-card img {
    width: 100%;
}

.video-info {
    padding: 10px;
    font-size: 14px;
}

.load-more {
    width: 90%;
    margin: 20px auto;
    display: block;
}
</style>
</head>

<body>

<header>
    <h1>Adult Video Search</h1>
    <input id="searchInput" placeholder="Search videos">
    <button onclick="startSearch()">Search</button>
</header>

<div id="results" class="results"></div>
<button id="loadMore" class="load-more" onclick="loadMore()">Load More</button>

<script>
let searchTerm = '';
let filterType = 'relevance';
let currentPage = 1;

function startSearch() {
    searchTerm = document.getElementById('searchInput').value;
    currentPage = 1;
    document.getElementById('results').innerHTML = '';
    fetchResults();
}

function loadMore() {
    currentPage++;
    fetchResults();
}

function fetchResults() {
    fetch('/load_more', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            search_term: searchTerm,
            filter_type: filterType,
            page: currentPage
        })
    })
    .then(res => res.json())
    .then(data => renderResults(data.results));
}

function renderResults(videos) {
    const container = document.getElementById('results');

    if (!videos || videos.length === 0) {
        document.getElementById('loadMore').style.display = 'none';
        return;
    }

    videos.forEach(v => {
        const div = document.createElement('div');
        div.className = 'video-card';
        div.innerHTML = `
            <img src="${v.thumbnail}">
            <div class="video-info">
                <div>${v.title}</div>
                <div>${v.duration} | ${v.views}</div>
            </div>
        `;
        container.appendChild(div);
    });

    document.getElementById('loadMore').style.display = 'block';
}
</script>

</body>
</html>
